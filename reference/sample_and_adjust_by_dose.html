<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Doses are iteratively adjusted for the specified dose numbers. Estimation is
performed by MAP Bayesian estimation, and simulation is used to identify the
dose most likely to reach the specified target. See dose_grid_search for
dose-finding logic. Optionally, disparate models can be used for simulation
and estimation, to allow for intentional model misspecification. Covariates
supplied must support both models. True patient parameters (pars_true_i)
must match the model used for simulation."><title>Adjust dosing using MIPD on TDMs at specified dose numbers — sample_and_adjust_by_dose • mipdtrial</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Adjust dosing using MIPD on TDMs at specified dose numbers — sample_and_adjust_by_dose"><meta property="og:description" content="Doses are iteratively adjusted for the specified dose numbers. Estimation is
performed by MAP Bayesian estimation, and simulation is used to identify the
dose most likely to reach the specified target. See dose_grid_search for
dose-finding logic. Optionally, disparate models can be used for simulation
and estimation, to allow for intentional model misspecification. Covariates
supplied must support both models. True patient parameters (pars_true_i)
must match the model used for simulation."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mipdtrial</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/busulfan_mipd.html">Busulfan MIPD</a>
    <a class="dropdown-item" href="../articles/pegasp_mipd.html">PEG Asparaginase</a>
    <a class="dropdown-item" href="../articles/sample_timing.html">Effect of sample timing</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Adjust dosing using MIPD on TDMs at specified dose numbers</h1>
      
      <div class="d-none name"><code>sample_and_adjust_by_dose.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Doses are iteratively adjusted for the specified dose numbers. Estimation is
performed by MAP Bayesian estimation, and simulation is used to identify the
dose most likely to reach the specified target. See <code>dose_grid_search</code> for
dose-finding logic. Optionally, disparate models can be used for simulation
and estimation, to allow for intentional model misspecification. Covariates
supplied must support both models. True patient parameters (<code>pars_true_i</code>)
must match the model used for simulation.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sample_and_adjust_by_dose</span><span class="op">(</span></span>
<span>  <span class="va">adjust_at_dose</span>,</span>
<span>  <span class="va">tdm_times</span>,</span>
<span>  <span class="va">regimen</span>,</span>
<span>  covariates <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">pars_true_i</span>,</span>
<span>  <span class="va">sim_model</span>,</span>
<span>  sim_ruv <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dose_optimization_method <span class="op">=</span> <span class="va">dose_adjust_map</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>adjust_at_dose</dt>
<dd><p>vector of integers indicating which doses to adjust</p></dd>


<dt>tdm_times</dt>
<dd><p>vector of times to sample at, in hours starting from the
time of first dose.</p></dd>


<dt>regimen</dt>
<dd><p>PKPDsim regimen object, containing initial dosing regimen.</p></dd>


<dt>covariates</dt>
<dd><p>named list of PKPDsim covariates.</p></dd>


<dt>pars_true_i</dt>
<dd><p>PK parameters for the individual. See <code>generate_iiv</code>.</p></dd>


<dt>sim_model</dt>
<dd><p>model to use for simulating "true" patient response.</p></dd>


<dt>sim_ruv</dt>
<dd><p>residual variability for <code>sim_model</code>. Named list for
proportional (<code>prop</code>) and additive (<code>add</code>) error.</p></dd>


<dt>dose_optimization_method</dt>
<dd><p>A function that determines how doses should
be adjusted given the collected drug levels. The function must return a
named list of the structure <code>list(regimen = reg, additional_info = x)</code>,
where <code>reg</code> is the updated PKPDsim regimen for the patient and <code>x</code> can be
another other information useful for post-processing of trial results.</p></dd>


<dt>...</dt>
<dd><p>arguments passed on to <code>simulate_fit</code> or dose_optimization_method
function.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>a named list containing <code>final_regimen</code> (all doses after
adjustment), <code>tdms</code> (all collected levels, both true and measured, that is,
both with and without residual variability), and <code>additional_info</code>, which
varies by <code>dose_optimization_method</code>. See selected function for details.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Trial design or MIPD protocol can vary considerably in complexity. This
function is intended to cover a broad range of relatively straight forward
designs, and may serve as a template for more complex designs.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jasmine Hughes, InsightRX.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

